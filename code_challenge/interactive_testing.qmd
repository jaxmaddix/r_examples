---
title: "Interactive Tests"
format: html
editor: source
---
```{R}
library(crosstalk)
library(DT)

# Sample data frame
df <- data.frame(
  Checkbox = c(TRUE, FALSE, TRUE),
  Value1 = c(10, 20, 30),
  Value2 = c("A", "B", "C")
)

# Create a crosstalk filter
checkbox_filter <- SharedData$new(df, key = ~Checkbox)

# Create a DataTable with crosstalk
datatable(
  checkbox_filter,
  filter = "top",
  extensions = 'Select',
  options = list(
    columnDefs = list(
      list(
        targets = 1,
        render = JS(
          "function(data, type, row, meta) {",
          "if(type === 'display') {",
          "return '<input type=\"checkbox\" class=\"select-checkbox\"/>';",
          "} else {",
          "return data;",
          "}"
        )
      )
    )
  )
) %>%
  formatStyle(
    'Checkbox',
    target = 'row',
    valueColumns = 'Checkbox',
    backgroundColor = styleEqual(TRUE, 'lightblue')
  )

# Render corresponding rows based on checkbox selection
renderDT({
  filtered_df <- datatable_proxy(checkbox_filter)
  filtered_df
})
```
